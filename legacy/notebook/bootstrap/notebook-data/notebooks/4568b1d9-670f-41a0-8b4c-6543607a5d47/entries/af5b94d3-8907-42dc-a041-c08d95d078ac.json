{
  "id": "af5b94d3-8907-42dc-a041-c08d95d078ac",
  "content": "TASK: Implement BROWSE endpoint.\n\nCONTEXT: BROWSE returns a dense catalog of notebook contents, optionally filtered by search query.\n\nENDPOINT:\nGET /notebooks/{notebook_id}/browse?query={optional}&max_tokens={optional}\n\nRESPONSE:\n```json\n{\n    \"catalog\": [\n        {\n            \"topic\": \"string\",\n            \"summary\": \"string\",\n            \"entry_count\": 42,\n            \"cumulative_cost\": 3.5,\n            \"stability\": 100,\n            \"representative_entry_ids\": [\"uuid\", ...]\n        }\n    ],\n    \"notebook_entropy\": 15.5,\n    \"total_entries\": 150,\n    \"query_matches\": 25  // Only if query provided\n}\n```\n\nIMPLEMENTATION:\n1. If no query: return full catalog from CatalogGenerator\n2. If query provided:\n   - Search via Tantivy SearchIndex\n   - Filter catalog to matching clusters\n   - Include query_matches count\n3. Respect max_tokens parameter (default 4000)\n\nERROR CASES:\n- 404: Notebook not found\n- 400: Invalid parameters\n\nACCEPTANCE:\n- Endpoint returns valid catalog\n- Query filtering works\n- Token budget respected\n- Integration test: create entries, browse, verify catalog\n\nDEPENDENCY: Requires Tasks 3.1 (catalog), 3.2 (search).\n\nREFERENCES: See API contract entry.",
  "content_type": "text/plain",
  "topic": "task-assignment 3-3",
  "references": [
    "50da4865-f9e7-4f0f-9aaa-ce321cb2e9be",
    "d85f2a25-885e-46c0-912e-c814329c663f"
  ],
  "revision_of": null,
  "author": "orchestrator",
  "causal_position": {
    "sequence": 68,
    "activity_context": {
      "entries_since_last_by_author": 30,
      "total_notebook_entries": 67,
      "recent_entropy": 35.3
    }
  },
  "created": "2026-02-05T14:38:23.555043+00:00",
  "integration_cost": {
    "entries_revised": 0,
    "references_broken": 0,
    "catalog_shift": 0.5,
    "orphan": false
  }
}