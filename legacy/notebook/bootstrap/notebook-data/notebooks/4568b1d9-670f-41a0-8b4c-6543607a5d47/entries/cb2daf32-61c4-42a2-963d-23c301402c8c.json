{
  "id": "cb2daf32-61c4-42a2-963d-23c301402c8c",
  "content": "TASK: Implement adaptive orphan threshold calibration.\n\nCONTEXT: An orphan is an entry that cannot be integrated with existing knowledge. The threshold for \"cannot be integrated\" should adapt to the notebooks characteristics.\n\nIMPLEMENTATION:\n\nOrphanThreshold:\n- Per-notebook configurable threshold\n- Default based on statistical distribution of integration costs\n\nADAPTIVE CALIBRATION:\n- Track distribution of catalog_shift values in notebook\n- Orphan threshold = mean + 2*stddev of catalog_shift\n- Recompute periodically (every N writes or on demand)\n\nCONFIGURATION:\n- NotebookConfig { orphan_threshold: Option<f64>, auto_calibrate: bool }\n- If orphan_threshold set, use fixed value\n- If auto_calibrate true, compute from distribution\n- Default: auto_calibrate = true\n\nSTORAGE:\n- Store threshold config in notebooks table or separate config table\n- Cache computed threshold, invalidate on significant distribution change\n\nAPI:\n- get_orphan_threshold(notebook_id) -> f64\n- set_orphan_threshold(notebook_id, threshold: Option<f64>)\n- calibrate_threshold(notebook_id) -> f64 (forces recalculation)\n\nACCEPTANCE:\n- Threshold computation works correctly\n- Auto-calibration adapts to notebook growth\n- Manual override works\n- Tests for threshold edge cases\n\nDEPENDENCY: Requires Task 2.2 (needs integration cost data to calibrate).\n\nREFERENCES: See entropy model entry.",
  "content_type": "text/plain",
  "topic": "task-assignment 2-3",
  "references": [
    "509be5e4-b5e7-4f16-845e-b17e63b44605",
    "bb322ced-1f15-44ba-a975-5b46c56e306c"
  ],
  "revision_of": null,
  "author": "orchestrator",
  "causal_position": {
    "sequence": 49,
    "activity_context": {
      "entries_since_last_by_author": 21,
      "total_notebook_entries": 48,
      "recent_entropy": 19.6
    }
  },
  "created": "2026-02-05T10:56:27.805061+00:00",
  "integration_cost": {
    "entries_revised": 0,
    "references_broken": 0,
    "catalog_shift": 0.5,
    "orphan": false
  }
}